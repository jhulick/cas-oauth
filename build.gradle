apply from: 'http://dl.bintray.com/scalding/generic/waroverlay.gradle'
apply plugin: 'jetty'
apply plugin: 'groovy'

repositories {
    mavenCentral artifactUrls: ["http://developer.jasig.org/repo/content/groups/m2-legacy/", "http://central.maven.org/maven2/"]
    maven { url "http://oss.sonatype.org/content/repositories/releases/" }
    maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
    maven { url "http://maven.restlet.org" }
}

dependencies {
    runtime("org.jasig.cas:cas-server-webapp:${project."cas.version"}") {
        transitive = true
    }
    ['cas-server-integration-restlet', 'cas-server-support-oauth'].each {
        compile "org.jasig.cas:${it}:${project."cas.version"}"
    }
    compile "org.codehaus.groovy:groovy-all:${project."groovy.version"}"
    compile "org.codehaus.groovy.modules.http-builder:http-builder:${project."http-builder.version"}"
    compile "com.hazelcast:hazelcast:3.1"
}

war {
    baseName "cas"
}

task wrapper(type: Wrapper) {
    gradleVersion = "1.8"
}

task run(type: JettyRunWar) {
    httpPort = 5252
}
